{"ast":null,"code":"export default (function () {\n  var noticeCloseComplete = function noticeCloseComplete(notice) {\n    notice.remove();\n    removeNoticesIfEmpty();\n  };\n\n  var noticeKey = function noticeKey(notice) {\n    var id = notice.data('notice-id');\n    return \"notice-dismissed(id:\".concat(id, \")\");\n  };\n\n  var isDismissible = function isDismissible(notice) {\n    return notice.data('notice-dismissible');\n  };\n\n  var bootstrap = function bootstrap() {\n    $(document).on('click', '.notice a[data-close]', function (event) {\n      var notice = $(this).parents('.notice');\n      localStorage.setItem(noticeKey(notice), true);\n      TweenLite.to(notice, 0.6, {\n        scale: 0,\n        height: 0,\n        transformOrigin: \"center top\",\n        ease: Power2.easeIn,\n        onComplete: function onComplete() {\n          return noticeCloseComplete(notice);\n        }\n      });\n    });\n  };\n\n  var removeNoticesIfEmpty = function removeNoticesIfEmpty() {\n    if ($('.notices .notice').length === 0) {\n      $('.notices').remove();\n    }\n  };\n\n  var clearRead = function clearRead() {\n    $('.notices .notice').each(function () {\n      var notice = $(this);\n\n      if (isDismissible(notice)) {\n        return;\n      }\n\n      if (localStorage.getItem(noticeKey(notice))) {\n        $(this).remove();\n      }\n    });\n    removeNoticesIfEmpty();\n  };\n\n  $(document).ready(function () {\n    bootstrap();\n    clearRead();\n  });\n});","map":{"version":3,"sources":["/Users/bgreenberg2/Documents/dev/nexmo-developer/lib/nexmo_developer/app/javascript/notices/index.js"],"names":["noticeCloseComplete","notice","remove","removeNoticesIfEmpty","noticeKey","id","data","isDismissible","bootstrap","$","document","on","event","parents","localStorage","setItem","TweenLite","to","scale","height","transformOrigin","ease","Power2","easeIn","onComplete","length","clearRead","each","getItem","ready"],"mappings":"AAAA,gBAAe,YAAM;AACnB,MAAMA,mBAAmB,GAAG,SAAtBA,mBAAsB,CAASC,MAAT,EAAiB;AAC3CA,IAAAA,MAAM,CAACC,MAAP;AACAC,IAAAA,oBAAoB;AACrB,GAHD;;AAKA,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAAUH,MAAV,EAAkB;AAClC,QAAMI,EAAE,GAAGJ,MAAM,CAACK,IAAP,CAAY,WAAZ,CAAX;AACA,yCAA8BD,EAA9B;AACD,GAHD;;AAKA,MAAME,aAAa,GAAG,SAAhBA,aAAgB,CAAUN,MAAV,EAAkB;AACtC,WAAOA,MAAM,CAACK,IAAP,CAAY,oBAAZ,CAAP;AACD,GAFD;;AAIA,MAAME,SAAS,GAAG,SAAZA,SAAY,GAAW;AAC3BC,IAAAA,CAAC,CAACC,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,EAAwB,uBAAxB,EAAiD,UAASC,KAAT,EAAgB;AAC/D,UAAMX,MAAM,GAAGQ,CAAC,CAAC,IAAD,CAAD,CAAQI,OAAR,CAAgB,SAAhB,CAAf;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqBX,SAAS,CAACH,MAAD,CAA9B,EAAwC,IAAxC;AAEAe,MAAAA,SAAS,CAACC,EAAV,CAAahB,MAAb,EAAqB,GAArB,EAA0B;AACxBiB,QAAAA,KAAK,EAAE,CADiB;AAExBC,QAAAA,MAAM,EAAE,CAFgB;AAGxBC,QAAAA,eAAe,EAAE,YAHO;AAIxBC,QAAAA,IAAI,EAAEC,MAAM,CAACC,MAJW;AAKxBC,QAAAA,UAAU,EAAE;AAAA,iBAAMxB,mBAAmB,CAACC,MAAD,CAAzB;AAAA;AALY,OAA1B;AAOD,KAXD;AAYD,GAbD;;AAeA,MAAME,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAW;AACtC,QAAIM,CAAC,CAAC,kBAAD,CAAD,CAAsBgB,MAAtB,KAAiC,CAArC,EAAwC;AACtChB,MAAAA,CAAC,CAAC,UAAD,CAAD,CAAcP,MAAd;AACD;AACF,GAJD;;AAMA,MAAMwB,SAAS,GAAG,SAAZA,SAAY,GAAW;AAC3BjB,IAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBkB,IAAtB,CAA2B,YAAW;AACpC,UAAM1B,MAAM,GAAGQ,CAAC,CAAC,IAAD,CAAhB;;AACA,UAAGF,aAAa,CAACN,MAAD,CAAhB,EAA0B;AAAE;AAAQ;;AACpC,UAAIa,YAAY,CAACc,OAAb,CAAqBxB,SAAS,CAACH,MAAD,CAA9B,CAAJ,EAA6C;AAC3CQ,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQP,MAAR;AACD;AACF,KAND;AAOAC,IAAAA,oBAAoB;AACrB,GATD;;AAWAM,EAAAA,CAAC,CAACC,QAAD,CAAD,CAAYmB,KAAZ,CAAkB,YAAW;AAC3BrB,IAAAA,SAAS;AACTkB,IAAAA,SAAS;AACV,GAHD;AAID,CAnDD","sourcesContent":["export default () => {\n  const noticeCloseComplete = function(notice) {\n    notice.remove()\n    removeNoticesIfEmpty()\n  }\n\n  const noticeKey = function (notice) {\n    const id = notice.data('notice-id')\n    return `notice-dismissed(id:${id})`\n  }\n\n  const isDismissible = function (notice) {\n    return notice.data('notice-dismissible')\n  }\n\n  const bootstrap = function() {\n    $(document).on('click', '.notice a[data-close]', function(event) {\n      const notice = $(this).parents('.notice')\n      localStorage.setItem(noticeKey(notice), true)\n\n      TweenLite.to(notice, 0.6, {\n        scale: 0,\n        height: 0,\n        transformOrigin: \"center top\",\n        ease: Power2.easeIn,\n        onComplete: () => noticeCloseComplete(notice)\n      });\n    });\n  }\n\n  const removeNoticesIfEmpty = function() {\n    if ($('.notices .notice').length === 0) {\n      $('.notices').remove()\n    }\n  }\n\n  const clearRead = function() {\n    $('.notices .notice').each(function() {\n      const notice = $(this)\n      if(isDismissible(notice)) { return }\n      if (localStorage.getItem(noticeKey(notice))) {\n        $(this).remove()\n      }\n    })\n    removeNoticesIfEmpty()\n  }\n\n  $(document).ready(function() {\n    bootstrap()\n    clearRead()\n  });\n}\n"]},"metadata":{},"sourceType":"module"}